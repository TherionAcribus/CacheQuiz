<div class="form-wrapper">
    <div class="form-header">
        <h2>{% if theme %}Ã‰diter le thÃ¨me{% else %}Nouveau thÃ¨me{% endif %}</h2>
        <button class="btn-close" 
                type="button"
                onclick="document.getElementById('theme-form-container').classList.add('hidden')">âœ•</button>
    </div>
    
    <form {% if theme %}
          hx-post="/api/theme/{{ theme.id }}"
          {% else %}
          hx-post="/api/theme"
          {% endif %}
          hx-target="#themes-list"
          hx-swap="innerHTML"
          hx-on::after-request="document.getElementById('theme-form-container').classList.add('hidden')">
        
        <div class="form-grid">
            <!-- Colonne gauche -->
            <div class="form-column">
                <div class="form-group">
                    <label for="name">Nom du thÃ¨me *</label>
                    <input type="text" 
                           id="name" 
                           name="name" 
                           value="{{ theme.name if theme else '' }}"
                           placeholder="Ex: RÃ¨gles, Histoire, Technique"
                           required>
                </div>
                
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" 
                              name="description" 
                              rows="4"
                              placeholder="Description du thÃ¨me (optionnel)">{{ theme.description if theme else '' }}</textarea>
                </div>
                
                <div class="form-group">
                    <label for="language">Langue *</label>
                    <select id="language" name="language" required>
                        <option value="fr" {% if theme and theme.language == 'fr' %}selected{% elif not theme %}selected{% endif %}>ğŸ‡«ğŸ‡· FranÃ§ais (fr)</option>
                        <option value="en" {% if theme and theme.language == 'en' %}selected{% endif %}>ğŸ‡¬ğŸ‡§ English (en)</option>
                        <option value="de" {% if theme and theme.language == 'de' %}selected{% endif %}>ğŸ‡©ğŸ‡ª Deutsch (de)</option>
                        <option value="es" {% if theme and theme.language == 'es' %}selected{% endif %}>ğŸ‡ªğŸ‡¸ EspaÃ±ol (es)</option>
                        <option value="it" {% if theme and theme.language == 'it' %}selected{% endif %}>ğŸ‡®ğŸ‡¹ Italiano (it)</option>
                        <option value="nl" {% if theme and theme.language == 'nl' %}selected{% endif %}>ğŸ‡³ğŸ‡± Nederlands (nl)</option>
                        <option value="pt" {% if theme and theme.language == 'pt' %}selected{% endif %}>ğŸ‡µğŸ‡¹ PortuguÃªs (pt)</option>
                    </select>
                </div>
            </div>
            
            <!-- Colonne droite -->
            <div class="form-column">
                <div class="form-group">
                    <label for="icon">IcÃ´ne (emoji)</label>
                    <input type="text" 
                           id="icon" 
                           name="icon" 
                           value="{{ theme.icon if theme else '' }}"
                           placeholder="Ex: ğŸ“š, ğŸ—ºï¸, âš™ï¸, ğŸ¯"
                           maxlength="10">
                    <small>Utilisez un emoji pour reprÃ©senter visuellement ce thÃ¨me</small>
                </div>
                
                <div class="form-group">
                    <label for="color">Couleur</label>
                    <input type="color" 
                           id="color" 
                           name="color" 
                           value="{{ theme.color if theme and theme.color else '#3b82f6' }}">
                    <small>Couleur d'accent pour l'affichage du thÃ¨me</small>
                </div>
                
                <div class="form-group">
                    <label for="translation_id">ID de traduction (thÃ¨me liÃ©)</label>
                    <input type="number" 
                           id="translation_id" 
                           name="translation_id" 
                           placeholder="ID du thÃ¨me dans une autre langue"
                           value="{{ theme.translation_id if theme and theme.translation_id else '' }}">
                    <small>UtilisÃ© pour lier des thÃ¨mes dans diffÃ©rentes langues</small>
                </div>
                
                {% if theme %}
                <div class="form-info">
                    <p><strong>Statistiques:</strong></p>
                    <p>Questions utilisant ce thÃ¨me: {{ theme.questions.count() }}</p>
                    <p>ID: {{ theme.id }}</p>
                    <p>CrÃ©Ã©: {{ theme.created_at.strftime('%d/%m/%Y %H:%M') if theme.created_at }}</p>
                </div>
                {% endif %}
            </div>
        </div>
        
        <div class="form-actions">
            <button type="button" 
                    class="btn btn-secondary"
                    onclick="document.getElementById('theme-form-container').classList.add('hidden')">
                Annuler
            </button>
            <button type="submit" class="btn btn-primary">
                {% if theme %}Mettre Ã  jour{% else %}CrÃ©er{% endif %}
            </button>
        </div>
    </form>
</div>

<style>
    input[type="color"] {
        width: 100%;
        height: 50px;
        border: 2px solid var(--border-color);
        border-radius: 0.5rem;
        cursor: pointer;
    }
    
    input[type="color"]:focus {
        outline: none;
        border-color: var(--primary-color);
    }
</style>

